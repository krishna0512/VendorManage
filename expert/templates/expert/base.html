{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		{% include "expert/head_content.html" %}
		<title>{% block title %}Expert Traders{% endblock %}</title>
		<script>
			$(function() {
				$("[id^=id_date]").datepicker({
					dateFormat: "yy-mm-dd"
				});
			});
		</script>
		<style>
		    .errorlist {
		        margin-bottom: .25rem;
		        margin-left: 0px;
		        padding-left: 0px;
		        list-style: none;
		    }
    		.navbar .dropdown:hover > .dropdown-menu {
    		    /* This is so that the active dropdown-menu doesnt
    		    become inactive when moving the mouse from top to bottom
    		    as there is a small space between a.dropdown-toggle and div.dropdown-menu
    		    this -ve margin will eliminate this space. Go ahead and try this with or without it! */
    		    margin-top: -1px;
    		    display: block;
			}
			#navbar-top div.btn-group a {
				color: white;
			}
			.u-hover--sparkle {
				box-sizing: border-box;
				position: relative;
				padding: 0.75em;
			}
			.u-hover--sparkle::before, .u-hover--sparkle::after {
				content: '';
				box-sizing: border-box;
				position: absolute;
				top: 0;
				left: 0;
				height: 100%;
				width: 100%;
				transform-origin: center;
			}
			.u-hover--sparkle::before {
				border-top: 0.2em solid #9F2042;
				border-bottom: 0.2em solid #9F2042;
				transform: scale3d(0, 1, 1);
			}
			.u-hover--sparkle::after {
				border-left: 0.2em solid #9F2042;
				border-right: 0.2em solid #9F2042;
				transform: scale3d(1, 0, 1);
			}
			.u-hover--sparkle:hover::before, .u-hover--sparkle:hover::after {
				transform: scale3d(1, 1, 1);
				transition: transform 600ms;
			}
		</style>
		{% block custom_css %}{% endblock %}
		{% block custom_js %}{% endblock %}
	</head>
	<body>
		{% block navbar-top %}
		{# bg-custom-2 is defined in Dashboard.css #}
		<nav class="navbar navbar-dark sticky-top bg-custom-2 flex-md-nowrap p-0 shadow" id="navbar-top">
			<a class="navbar-brand col-sm-3 col-md-2 mr-0 text-center" href="{% url 'expert:index' %}">Expert Traders</a>
			<input class="form-control form-control-dark col mr-auto" type="text" placeholder="Search" aria-label="Search">
			<div class="btn-toolbar mx-2">
				{% block custom_navbar %}{% endblock %}
			</div>
		</nav>
		{% endblock %}
		<div class="container-fluid">
			<div class="row">
				{% block navbar-side %}
				<nav class="col-md-1 d-none d-md-block bg-light sidebar">
					<div class="sidebar-sticky">
						<ul class="nav flex-column text-center">
							<li class="nav-item">
								<a class="u-hover--sparkle mx-2 nav-link {% if view.navigation == 'kit' %}active{% endif %}" href="{% url 'expert:kit-list' %}">Kit</a>
							</li>
							<li class="nav-item">
								<a class="u-hover--sparkle mx-2 nav-link {% if view.navigation == 'worker' %}active{% endif %}" href="{% url 'expert:worker-list' %}">Worker</a>
							</li>
							<li class="nav-item">
								<a class="u-hover--sparkle mx-2 nav-link {% if view.navigation == 'challan' %}active{% endif %}" href="{% url 'expert:challan-list' %}">Challan</a>
							</li>
							<li class="nav-item">
								<a class="u-hover--sparkle mx-2 nav-link {% if view.navigation == 'invoice' %}active{% endif %}" href="{% url 'expert:invoice-list' %}">Invoice</a>
							</li>
							<li class="nav-item">
								<a class="u-hover--sparkle mx-2 nav-link" href="{% url 'expert:report-monthly' year=2020 month='Mar' %}">Reports (Mar)</a>
							</li>
							{% comment %}
							TODO: edit the dropright so that this works correctly
							<li class="nav-item dropright">
								<a class="nav-link dropdown-toggle" href="#" id="navbarReportDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									Reports
								</a>
								<div class="dropdown-menu" aria-labelledby="navbarReportDropdown">
									<a class="dropdown-item" href="{% url 'expert:report-monthly' year=2020 month='Mar' %}">March 2020</a>
									<a class="dropdown-item" href="{% url 'expert:report-monthly' year=2020 month='Apr' %}">April 2020</a>
								</div>
							</li>
							{% endcomment %}
						</ul>
					</div>
				</nav>
				{% endblock %}
				<main role="main" class="col-md-10 ml-sm-auto col-lg-11 pt-3 px-4">
					{% block main_content %}{% endblock %}
				</main>
			</div>
		</div>
		{% comment %}
		{% block navbar %}
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="{% url 'expert:index' %}">Expert Traders</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMarkup" aria-controls="navbarMarkup" aria-expanded="false" aria-label="Toggle Navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarMarkup">
				<div class="navbar-nav mr-auto">
					<a class="nav-item nav-link {% if view.navigation == 'kit' %}active{% endif %}" href="{% url 'expert:kit-list' %}">Kit</a>
					<a class="nav-item nav-link {% if view.navigation == 'worker' %}active{% endif %}" href="{% url 'expert:worker-list' %}">Worker</a>
					<a class="nav-item nav-link {% if view.navigation == 'challan' %}active{% endif %}" href="{% url 'expert:challan-list' %}">Challan</a>
					<a class="nav-item nav-link {% if view.navigation == 'invoice' %}active{% endif %}" href="{% url 'expert:invoice-list' %}">Invoice</a>
					<div class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarReportDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Reports
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarReportDropdown">
							<a class="dropdown-item" href="{% url 'expert:report-monthly' year=2020 month='Mar' %}">March 2020</a>
							<a class="dropdown-item" href="{% url 'expert:report-monthly' year=2020 month='Apr' %}">April 2020</a>
						</div>
					</div>
				</div>
				{% block custom_navbar %}{% endblock %}
				<div class="navbar-nav">
					<a class="btn btn-sm btn-outline-danger mr-1" href="{% url 'expert:logout' %}" type="button"><i class="fa fa-sign-out"></i></a>
				</div>
			</div>
		</nav>
		{% endblock %}
		{% endcomment %}
		<main>
		{# {% block main_content %}{% endblock %} #}
		</main>
	</body>

	<style>
		body {
		  font-size: .875rem;
		}

		.feather {
		  width: 16px;
		  height: 16px;
		  vertical-align: text-bottom;
		}

		/*
		 * Sidebar
		 */

		.sidebar {
		  position: fixed;
		  top: 0;
		  bottom: 0;
		  left: 0;
		  z-index: 100; /* Behind the navbar */
		  padding: 0;
		  box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
		}

		.sidebar-sticky {
		  position: -webkit-sticky;
		  position: sticky;
		  top: 48px; /* Height of navbar */
		  height: calc(100vh - 48px);
		  padding-top: .5rem;
		  overflow-x: hidden;
		  overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
		}

		.sidebar .nav-link {
		  font-weight: 500;
		  color: #333;
		}

		.sidebar .nav-link .feather {
		  margin-right: 4px;
		  color: #999;
		}

		.sidebar .nav-link.active {
		  color: #007bff;
		}

		.sidebar-heading {
		  font-size: .75rem;
		  text-transform: uppercase;
		}

		/*
		 * Navbar
		 */
		.bg-custom-2 {
		  background-image: linear-gradient(15deg, #1f2122 30%, #61455c 100%);
		}

		.navbar-brand {
		  padding-top: .75rem;
		  padding-bottom: .75rem;
		  font-size: 1rem;
		  background-color: rgba(0, 0, 0, .25);
		  box-shadow: inset -1px 0 0 rgba(0, 0, 0, .25);
		}

		.navbar .form-control {
		  padding: .75rem 1rem;
		  border-width: 0;
		  border-radius: 0;
		}

		.form-control-dark {
		  color: #fff;
		  background-color: rgba(255, 255, 255, .1);
		  border-color: rgba(255, 255, 255, .1);
		}

		.form-control-dark:focus {
		  border-color: transparent;
		  box-shadow: 0 0 0 3px rgba(255, 255, 255, .25);
		}

		/*
		 * Utilities
		 */

		.border-top { border-top: 1px solid #e5e5e5; }
		.border-bottom { border-bottom: 1px solid #e5e5e5; }
	</style>
</html>
